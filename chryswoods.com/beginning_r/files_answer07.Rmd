---
title: "Beginning R"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Starting with creating our data file data.txt:

```
12
54
7
332
54
1
0
```

The logic in this script is identical but instead of having `total`, 
`count` and `mean` as separate scalars, we have collected them 
into a single atomic vector:

```R
file_handle <- file("data.txt")
file_lines <- readLines(file_handle)
close(file_handle)

stats <- c("sum" = 0, "count" = 0)

for (file_line in file_lines) {
  number <- as.numeric(file_line)
  stats["sum"] <- stats["sum"] + number
  stats["count"] <- stats["count"] + 1
}

if (stats["count"] > 0) {
  stats["mean"] <- stats["sum"] / stats["count"]
}

print(stats)
```

```
Rscript file.R

      sum     count      mean 
460.00000   7.00000  65.71429
```
